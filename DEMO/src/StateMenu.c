#pragma bank=2
#include "StateMenu.h"
UINT8 bank_STATE_MENU = 2;

#include <gb/sample.h>
#include "ZGBMain.h"
#include "Scroll.h"
#include "SpriteManager.h"
#include "carillon_player.h"
#include "Keys.h"
#include "../res/src/font.h"
#include "Print.h"

#include "../res/src/menumap.h"
#include "../res/src/menutiles.h"
	
extern UINT8 n_sprite_types;
UINT8 select;
extern const unsigned char menu_ting[];

void Start_STATE_MENU() {
	
	extern fontPAL[];
	ZGB_set_colors(fontPAL,2);
	
	InitScrollTiles(0, 99, menutiles, 2);
	InitScroll(menumapWidth, menumapHeight, menumapPLN0, 0, 0, 2, menumapPLN1);
	
	INIT_FONT(font, 2, PRINT_BKG);
	PRINT_POS(0, 2);
	Printf("     ZGB  ENGINE    ");
	PRINT_POS(0, 3);
	Printf("       BY ZALO      ");
	PRINT_POS(0, 6);
	Printf("    SELECT  TEST    ");
	PRINT_POS(0, 8);
	Printf("            LEVEL 2 ");
	select = 1;
	SHOW_BKG;
	HIDE_WIN;
	CP_StopMusic(); 
}

void Update_STATE_MENU() {
	if(KEY_TICKED(J_RIGHT)){
		select = 1; 
		PRINT_POS(0, 8);
		Printf("            LEVEL 2 ");
		play_sample(menu_ting, 1100/32);
	}
	if(KEY_TICKED(J_LEFT)){
		select = 0; 
		PRINT_POS(0, 8);
		Printf(" LEVEL 1            ");
		play_sample(menu_ting, 1100/32);
	}

	if ((select == 1)&&(KEY_PRESSED(J_A))){SetState(STATE_LEVEL1); CP_LoadMusic(4,0);}
	if ((select == 0)&&(KEY_PRESSED(J_A))){SetState(STATE_GAME); CP_LoadMusic(4,0);}
}

const unsigned char menu_ting[] =
{
	0x78,0x77,0x87,0x88,0x78,0x78,0x78,0x88,0x87,0x88,0x78,0x77,0x88,0x77,0x87,0x77,
	0x77,0x78,0x77,0x88,0x78,0x77,0x88,0x77,0x88,0x88,0x88,0x77,0x77,0x77,0x77,0x78,
	0x88,0x87,0x78,0x77,0x87,0x88,0x78,0x88,0x77,0x87,0x77,0x77,0x88,0x77,0x87,0x88,
	0x77,0x77,0x78,0x87,0x77,0x88,0x88,0x88,0x87,0x78,0x87,0x87,0x88,0x78,0x77,0x78,
	0x78,0x88,0x78,0x88,0x77,0x88,0x88,0x78,0x78,0x77,0x87,0x88,0x87,0x87,0x87,0x87,
	0x87,0x87,0x45,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x8B,0xAA,0x97,0x77,0x88,0x75,
	0x55,0x68,0x87,0x66,0x77,0x9A,0xA8,0x55,0x45,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
	0x55,0x69,0xAA,0xA9,0x77,0x88,0x87,0x55,0x55,0x78,0x87,0x66,0x68,0xAA,0xA7,0x55,
	0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x56,0x9A,0xAA,0x98,0x78,0x98,0x75,0x55,
	0x57,0x88,0x76,0x67,0x8A,0xAA,0x96,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,0x55,
	0x7A,0xAA,0xA9,0x88,0x89,0x97,0x65,0x55,0x68,0x87,0x66,0x78,0x9A,0xAA,0x75,0x55,
	0x55,0x55,0x55,0x55,0x56,0x65,0x55,0x57,0xAA,0xAA,0x98,0x89,0x99,0x76,0x55,0x56,
	0x77,0x76,0x67,0x89,0xAA,0xA9,0x65,0x55,0x55,0x55,0x55,0x55,0x66,0x55,0x56,0x8A,
	0xAA,0xA9,0x88,0x99,0x98,0x65,0x55,0x67,0x77,0x66,0x78,0x9A,0xAA,0x97,0x55,0x55,
	0x55,0x55,0x55,0x56,0x66,0x55,0x68,0xAA,0xAA,0x98,0x89,0x99,0x86,0x55,0x56,0x77,
	0x76,0x67,0x89,0xAA,0xA9,0x76,0x55,0x56,0x65,0x55,0x56,0x67,0x65,0x67,0x9A,0xAA,
	0xA9,0x89,0x99,0x98,0x66,0x56,0x67,0x77,0x66,0x78,0x9A,0xAA,0x98,0x66,0x66,0x66,
	0x66,0x66,0x67,0x76,0x55,0x68,0xAA,0xA9,0x87,0x88,0x98,0x76,0x55,0x66,0x77,0x77,
	0x78,0x89,0xAA,0xA9,0x86,0x66,0x67,0x76,0x66,0x66,0x77,0x76,0x67,0x8A,0xAA,0x98,
	0x88,0x88,0x87,0x66,0x66,0x67,0x77,0x77,0x88,0x9A,0xAA,0x98,0x76,0x66,0x77,0x76,
	0x66,0x77,0x77,0x76,0x79,0xAA,0xA9,0x88,0x88,0x88,0x77,0x66,0x67,0x77,0x77,0x78,
	0x89,0x9A,0x99,0x87,0x66,0x77,0x77,0x76,0x77,0x77,0x77,0x78,0x9A,0xAA,0x98,0x88,
	0x88,0x87,0x76,0x67,0x77,0x77,0x77,0x88,0x99,0xA9,0x98,0x77,0x77,0x77,0x77,0x77,
	0x77,0x77,0x77,0x89,0xAA,0xA9,0x88,0x88,0x88,0x77,0x66,0x77,0x77,0x77,0x78,0x89,
	0x99,0x99,0x87,0x77,0x77,0x77,0x77,0x77,0x88,0x77,0x88,0x9A,0xAA,0x98,0x88,0x98,
	0x88,0x77,0x77,0x77,0x77,0x78,0x88,0x99,0x99,0x98,0x77,0x77,0x77,0x77,0x77,0x78,
	0x87,0x78,0x89,0xAA,0x99,0x88,0x89,0x88,0x87,0x77,0x77,0x88,0x78,0x88,0x89,0x99,
	0x99,0x87,0x77,0x78,0x87,0x77,0x78,0x88,0x77,0x88,0x9A,0xA9,0x98,0x88,0x98,0x88,
	0x77,0x77,0x78,0x88,0x88,0x88,0x99,0x99,0x88,0x77,0x77,0x88,0x77,0x77,0x88,0x88,
	0x88,0x89,0x99,0x99,0x88,0x89,0x88,0x87,0x77,0x78,0x88,0x88,0x88,0x89,0x99,0x98,
	0x87,0x77,0x88,0x87,0x77,0x78,0x88,0x88,0x88,0x99,0x99,0x98,0x88,0x98,0x88,0x77,
	0x77,0x88,0x88,0x88,0x88,0x99,0x99,0x88,0x87,0x78,0x88,0x78,0x88,0x88,0x87,0x77,
	0x88,0x99,0x87,0x77,0x78,0x87,0x77,0x77,0x77,0x78,0x88,0x88,0x89,0x99,0x98,0x77,
	0x77,0x88,0x87,0x77,0x88,0x88,0x87,0x88,0x88,0x88,0x87,0x77,0x88,0x87,0x77,0x77,
	0x78,0x88,0x88,0x88,0x99,0x99,0x88,0x77,0x78,0x88,0x77,0x78,0x88,0x88,0x88,0x88,
	0x88,0x88,0x88,0x88,0x88,0x77,0x77,0x77,0x88,0x88,0x88,0x89,0x99,0x98,0x87,0x77,
	0x88,0x88,0x77,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x87,0x77,0x77,0x78,
	0x88,0x88,0x88,0x89,0x98,0x88,0x77,0x78,0x88,0x87,0x78,0x88,0x88,0x88,0x88,0x88,
	0x88,0x88,0x88,0x88,0x87,0x77,0x78,0x88,0x88,0x88,0x88,0x99,0x88,0x87,0x77,0x88,
	0x88,0x77,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x77,0x77,0x88,0x88,
	0x88,0x88,0x89,0x98,0x88,0x77,0x78,0x88,0x87,0x88,0x88,0x88,0x88,0x88,0x88,0x88,
	0x88,0x88,0x88,0x88,0x77,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x87,0x78,0x88,0x88,
	0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,
	0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,
	0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,
	0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,
	0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,
	0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,
	0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,
	0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,
	0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,
	0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,
	0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,
	0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,
	0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,
	0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,
	0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,
	0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,
	0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88
};